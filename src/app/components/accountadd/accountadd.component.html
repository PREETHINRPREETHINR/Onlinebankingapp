<div class="dashboard-container">

    <!-- Top Navbar -->
    <nav class="navbar">
      <div class="nav-left">
        <span class="bank-name">Easy-Way Bank</span>
        <a routerLink="/dashboard">Dashboard</a>
        <a routerLink="/paymenthistory">Payment History</a>
        <a routerLink="/transactionhistory">Transactions History</a>
      </div>
  
      <div class="nav-right">
        <span class="status-indicator"></span>
        <span class="welcome-message">Welcome: Sam Davis</span>
        <a class="signout" routerLink="/home">Sign Out</a>
      </div>
    </nav>
  
    <!-- Success Message -->
    <div *ngIf="accountAddedSuccess" class="success-message">
      Account added successfully!
    </div>
  
    <!-- Main Card -->
    <div class="card">
  
      <div class="card-header">
        <button (click)="toggleCanvas()" class="add-account-btn" routerLink="">
          <span>➕</span> Add an Account
        </button>
      </div>
  
      <div class="card-body">
        <h2>Total Accounts Balance:</h2>
        <h1 class="balance">₹ {{ totalBalance | number:'1.2-2' }}</h1>
  
        <!-- Dropdown for accounts -->
        <select [(ngModel)]="selectedAccount" class="account-dropdown">
          <option *ngFor="let acc of accounts" [value]="acc.name">
            {{ acc.name }}
          </option>
        </select>
  
        <button class="transact-btn" (click)="onTransact()">Transact</button>
      </div>
  
    </div>
    <!-- ✅ Off-canvas Panel for Transactions -->
<div class="offcanvas" [class.show]="showCanvas">
  <div class="offcanvas-header">
    <h3>Transact</h3>
    <button (click)="toggleCanvas()" class="close-btn">✖</button>
  </div>

  <div class="offcanvas-body">
    <h4>Make a Transfer</h4>

    <label>Transfer From</label>
    <select [(ngModel)]="transferFrom" class="form-control">
      <option *ngFor="let acc of accounts" [value]="acc.name">{{ acc.name }}</option>
    </select>
    <small>This is the account the amount will be deducted from</small>

    <label>Transfer To</label>
    <select [(ngModel)]="transferTo" class="form-control">
      <option value="">-- Select Account --</option>
      <option *ngFor="let acc of accounts" [value]="acc.name" [disabled]="acc.name === transferFrom">
        {{ acc.name }}
      </option>
    </select>
    <small>This is the account the amount will be transferred to</small>

    <label>Enter Amount</label>
    <input type="number" [(ngModel)]="transferAmount" placeholder="Enter Transfer Amount.." class="form-control" />

    <button class="transfer-btn" (click)="makeTransfer()">Transfer</button>
  </div>
</div>

  
  </div>
  